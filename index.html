<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f7fa;
      margin: 0;
      padding: 20px;
    }
    .section {
      border: 2px solid #000;
      padding: 15px;
      margin-bottom: 20px;
      background: #fff;
    }
    h2 {
      text-align: center;
      margin: 0 0 10px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 6px;
      text-align: center;
    }
    th {
      background-color: #eaeaea;
    }
  </style>
</head>
<body>
  <!-- Added favicon link in body as requested -->
  <link rel="icon" href="https://spyne-prod-ai.s3.us-east-1.amazonaws.com/ai-dataset/2025/favicon.ico" type="image/x-icon">

  <div class="section" id="header">
    <h2>Header</h2>
  </div>

  <div class="section" id="dailyCountBar">
    <h2>Daily Count Desc Bar</h2>
    <div id="daily-data"></div>
  </div>

  <div class="section" id="activeUser">
    <h2>Active User</h2>
    <div id="live-user"></div>
  </div>

  <div class="section" id="userData">
    <h2>User Data Date wise</h2>
    <div id="user-data"></div>
  </div>

  <script>
    const dailyDataURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQkSnj-ldXkXXW21Jg2NIHO4b5B_KPHAJwy3T8_1L0-mPdGu_wrMC43nJb7bcAxXD7-xhNy3pqEZm18/pub?gid=585003148&single=true&output=csv';
    const liveUserURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vQkSnj-ldXkXXW21Jg2NIHO4b5B_KPHAJwy3T8_1L0-mPdGu_wrMC43nJb7bcAxXD7-xhNy3pqEZm18/pub?gid=1885524675&single=true&output=csv';

    function renderTable(csvText, containerId) {
      Papa.parse(csvText, {
        header: true,
        skipEmptyLines: true,
        complete: function(results) {
          const data = results.data;
          if (data.length === 0) return;

          let table = '<table><thead><tr>';
          Object.keys(data[0]).forEach(col => {
            table += `<th>${col}</th>`;
          });
          table += '</tr></thead><tbody>';

          data.forEach(row => {
            table += '<tr>';
            Object.values(row).forEach(val => {
              table += `<td>${val}</td>`;
            });
            table += '</tr>';
          });

          table += '</tbody></table>';
          document.getElementById(containerId).innerHTML = table;
        }
      });
    }

    fetch(dailyDataURL)
      .then(res => res.text())
      .then(csv => renderTable(csv, 'daily-data'));

    fetch(liveUserURL)
      .then(res => res.text())
      .then(csv => renderTable(csv, 'live-user'));

    fetch(dailyDataURL)
      .then(res => res.text())
      .then(csv => renderTable(csv, 'user-data'));
  </script>

</body>
</html>
